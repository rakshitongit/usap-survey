<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button color="tertiary" fill="outline" (click)="createPdf()">
        <ion-icon slot="start" name="cloud-download-outline"></ion-icon> PDF
      </ion-button>
    </ion-buttons>
    <ion-title>History of Authentication</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large"></ion-title>
      <ion-buttons slot="primary">

      </ion-buttons>
    </ion-toolbar>
  </ion-header>

  <div class="print-pdf">
    <div class="print-wrapper">
      <!-- <h5 class="h5-this ion-margin">Authentication survey</h5> -->
      <ion-card>
        <ion-card-header>
          <ion-card-title>Authentication survey</ion-card-title>
        </ion-card-header>
          <ion-grid>
            <ion-row>
              <ion-col>#</ion-col>
              <ion-col>For what</ion-col>
              <ion-col>Type</ion-col>
              <ion-col>Failure</ion-col>
              <ion-col>Convinience</ion-col>
            </ion-row>
            <ion-row *ngFor="let s of surveyData; let i = index">
              <ion-col>{{i+1}}</ion-col>
              <ion-col>{{s.auth_what}}</ion-col>
              <ion-col>{{s.auth_type}}</ion-col>
              <ion-col>{{s.auth_failure}}</ion-col>
              <ion-col>{{s.auth_convinience}}</ion-col>
            </ion-row>
          </ion-grid>
      </ion-card>
      
      <br><br>
      <ion-card *ngIf="dailyData.length > 0">
        <ion-card-header>
          <ion-card-title>Daily Questionnaire</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ion-accordion-group>
            <span></span>
            <ion-accordion [value]="ds.timestamp" *ngFor="let ds of dailyData; let i = index">
              <ion-item slot="header">
                <ion-label># {{i+1}}</ion-label>
              </ion-item>
          
              <ion-list slot="content">
                <ion-item>
                  <ion-label class="fs-15">App to save passwords:</ion-label>
                  <ion-badge slot="end" color="tertiary">{{ds.third_party}}</ion-badge>
                </ion-item>
                <ion-item>
                  <ion-label class="fs-15">Trust that app:</ion-label>
                  <ion-badge slot="end" color="tertiary">{{ds.third_party_trust}}</ion-badge>
                </ion-item>
                <ion-item>
                  <ion-label class="fs-15"># forgot to log:</ion-label>
                  <ion-badge slot="end" color="tertiary">{{ds.forgot_to_log}}</ion-badge>
                </ion-item>
                <ion-item>
                  <ion-label class="fs-15"># Authenticators:</ion-label>
                  <ion-badge slot="end" color="tertiary">{{ds.no_physical_auths}}</ion-badge>
                </ion-item>
                <ion-item>
                  <ion-label class="fs-15">Affect productivity:</ion-label>
                  <ion-badge slot="end" color="tertiary">{{ds.affect_productivity}}</ion-badge>
                </ion-item>
                <ion-item>
                  <ion-label class="fs-15">Date:</ion-label>
                  <ion-badge slot="end" color="tertiary">{{ds.timestamp | date:'dd/MM/yyyy'}}</ion-badge>
                </ion-item>
              </ion-list>
            </ion-accordion>
          </ion-accordion-group>
        </ion-card-content>
      </ion-card>  


      <div id="print-wrapper" style="display: none;">
        <table>
          <thead>
            <tr>
              <th>For what</th>
              <th>Type</th>
              <th>Failure</th>
              <th>Convinience</th>
              <th>Latitude</th>
              <th>Longitude</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let s of surveyData">
              <td data-column="For what">{{s.auth_what}}</td>
              <td data-column="Type">{{s.auth_type}}</td>
              <td data-column="Failure">{{s.auth_failure}}</td>
              <td data-column="Convinience">{{s.auth_convinience}}</td>
              <td data-column="Latitude">{{s.latitude}}</td>
              <td data-column="Longitude">{{s.longitude}}</td>
              <td data-column="Date">{{s.timestamp | date:'dd/MM/yyyy'}}</td>
            </tr>
          </tbody>
        </table>
        <br><br>
        <table>
          <thead>
            <tr>
              <th>App for passwords</th>
              <th>Trust authenticator</th>
              <th># Forgot to log</th>
              <th># Authenticators</th>
              <th>Affect productivity</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ds of dailyData">
              <td>{{ds.third_party}}</td>
              <td>{{ds.third_party_trust}}</td>
              <td>{{ds.forgot_to_log}}</td>
              <td>{{ds.no_physical_auths}}</td>
              <td>{{ds.affect_productivity}}</td>
              <td>{{ds.timestamp | date:'dd/MM/yyyy'}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</ion-content>